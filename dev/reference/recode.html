<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is a vectorised version of switch(): you can replace
numeric values based on their position or their name, and character or factor
values only by their name. This is an S3 generic: dplyr provides methods for
numeric, character, and factors. For logical vectors, use if_else(). For
more complicated criteria, use case_when().
You can use recode() directly with factors; it will preserve the existing
order of levels while changing the values. Alternatively, you can
use recode_factor(), which will change the order of levels to match
the order of replacements. See the forcats
package for more tools for working with factors and their levels.
recode() is questioning because the arguments are in the wrong order.
We have new &amp;lt;- old, mutate(df, new = old), and rename(df, new = old)
but recode(x, old = new). We don't yet know how to fix this problem, but
it's likely to involve creating a new function then retiring or deprecating
recode()."><title>Recode values — recode • dplyr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Source%20Sans%20Pro-0.4.1/font.css" rel="stylesheet"><link href="../deps/_Source%20Code%20Pro-0.4.1/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Recode values — recode"><meta property="og:description" content="This is a vectorised version of switch(): you can replace
numeric values based on their position or their name, and character or factor
values only by their name. This is an S3 generic: dplyr provides methods for
numeric, character, and factors. For logical vectors, use if_else(). For
more complicated criteria, use case_when().
You can use recode() directly with factors; it will preserve the existing
order of levels while changing the values. Alternatively, you can
use recode_factor(), which will change the order of levels to match
the order of replacements. See the forcats
package for more tools for working with factors and their levels.
recode() is questioning because the arguments are in the wrong order.
We have new &amp;lt;- old, mutate(df, new = old), and rename(df, new = old)
but recode(x, old = new). We don't yet know how to fix this problem, but
it's likely to involve creating a new function then retiring or deprecating
recode()."><meta property="og:image" content="https://dplyr.tidyverse.org/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="dplyr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dplyr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.8.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/dplyr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/grouping.html">Grouped data</a>
    <a class="dropdown-item" href="../articles/two-table.html">Two-table verbs</a>
    <a class="dropdown-item" href="../articles/base.html">dplyr &lt;-&gt; base R</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Automation</h6>
    <a class="dropdown-item" href="../articles/colwise.html">Column-wise operations</a>
    <a class="dropdown-item" href="../articles/rowwise.html">Row-wise operations</a>
    <a class="dropdown-item" href="../articles/programming.html">Programming with dplyr</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/06/dplyr-1-0-0/">Version 1.0.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/07/dplyr-0-8-3/">Version 0.8.3</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/dplyr-0-8-2/">Version 0.8.2</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/05/dplyr-0-8-1/">Version 0.8.1</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/02/dplyr-0-8-0/">Version 0.8.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/06/dplyr-0.7.5/">Version 0.7.5</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidyverse/dplyr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Recode values</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/dplyr/blob/HEAD/R/recode.R" class="external-link"><code>R/recode.R</code></a></small>
      <div class="d-none name"><code>recode.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a vectorised version of <code><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch()</a></code>: you can replace
numeric values based on their position or their name, and character or factor
values only by their name. This is an S3 generic: dplyr provides methods for
numeric, character, and factors. For logical vectors, use <code><a href="if_else.html">if_else()</a></code>. For
more complicated criteria, use <code><a href="case_when.html">case_when()</a></code>.</p>
<p>You can use <code>recode()</code> directly with factors; it will preserve the existing
order of levels while changing the values. Alternatively, you can
use <code>recode_factor()</code>, which will change the order of levels to match
the order of replacements. See the <a href="https://forcats.tidyverse.org/" class="external-link">forcats</a>
package for more tools for working with factors and their levels.</p>
<p><code>recode()</code> is questioning because the arguments are in the wrong order.
We have <code>new &lt;- old</code>, <code>mutate(df, new = old)</code>, and <code>rename(df, new = old)</code>
but <code>recode(x, old = new)</code>. We don't yet know how to fix this problem, but
it's likely to involve creating a new function then retiring or deprecating
<code>recode()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">recode</span><span class="op">(</span><span class="va">.x</span>, <span class="va">...</span>, .default <span class="op">=</span> <span class="cn">NULL</span>, .missing <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">recode_factor</span><span class="op">(</span><span class="va">.x</span>, <span class="va">...</span>, .default <span class="op">=</span> <span class="cn">NULL</span>, .missing <span class="op">=</span> <span class="cn">NULL</span>, .ordered <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.x</dt>
<dd><p>A vector to modify</p></dd>
<dt>...</dt>
<dd><p>&lt;<code><a href="https://rlang.r-lib.org/reference/dyn-dots.html" class="external-link">dynamic-dots</a></code>&gt; Replacements. For character and factor <code>.x</code>, these should be named
and replacement is based only on their name. For numeric <code>.x</code>, these can be
named or not. If not named, the replacement is done based on position i.e.
<code>.x</code> represents positions to look for in replacements. See examples.</p>
<p>When named, the argument names should be the current values to be replaced, and the
argument values should be the new (replacement) values.</p>
<p>All replacements must be the same type, and must have either
length one or the same length as <code>.x</code>.</p></dd>
<dt>.default</dt>
<dd><p>If supplied, all values not otherwise matched will
be given this value. If not supplied and if the replacements are
the same type as the original values in <code>.x</code>, unmatched
values are not changed. If not supplied and if the replacements
are not compatible, unmatched values are replaced with <code>NA</code>.</p>
<p><code>.default</code> must be either length 1 or the same length as
<code>.x</code>.</p></dd>
<dt>.missing</dt>
<dd><p>If supplied, any missing values in <code>.x</code> will be
replaced by this value. Must be either length 1 or the same length as
<code>.x</code>.</p></dd>
<dt>.ordered</dt>
<dd><p>If <code>TRUE</code>, <code>recode_factor()</code> creates an
ordered factor.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A vector the same length as <code>.x</code>, and the same type as
the first of <code>...</code>, <code>.default</code>, or <code>.missing</code>.
<code>recode_factor()</code> returns a factor whose levels are in the same order as
in <code>...</code>. The levels in <code>.default</code> and <code>.missing</code> come last.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="na_if.html">na_if()</a></code> to replace specified values with a <code>NA</code>.</p>
<p><code><a href="coalesce.html">coalesce()</a></code> to replace missing values with a specified value.</p>
<p><code><a href="https://tidyr.tidyverse.org/reference/replace_na.html" class="external-link">tidyr::replace_na()</a></code> to replace <code>NA</code> with a value.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># For character values, recode values with named arguments only. Unmatched</span></span>
<span class="r-in"><span class="co"># values are unchanged.</span></span>
<span class="r-in"><span class="va">char_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">char_vec</span>, a <span class="op">=</span> <span class="st">"Apple"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "Apple" "b"     "b"     "c"     "c"     "b"     "Apple" "Apple"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "b"     "c"    </span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">char_vec</span>, a <span class="op">=</span> <span class="st">"Apple"</span>, b <span class="op">=</span> <span class="st">"Banana"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "Apple"  "Banana" "Banana" "c"      "c"      "Banana" "Apple" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] "Apple"  "Banana" "c"     </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Use .default as replacement for unmatched values. Note that NA and</span></span>
<span class="r-in"><span class="co"># replacement values need to be of the same type. For more information, see</span></span>
<span class="r-in"><span class="co"># https://adv-r.hadley.nz/vectors-chap.html#missing-values</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">char_vec</span>, a <span class="op">=</span> <span class="st">"Apple"</span>, b <span class="op">=</span> <span class="st">"Banana"</span>, .default <span class="op">=</span> <span class="cn">NA_character_</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "Apple"  "Banana" "Banana" NA       NA       "Banana" "Apple" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] "Apple"  "Banana" NA      </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Throws an error as NA is logical, not character.</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">recode</span><span class="op">(</span><span class="va">char_vec</span>, a <span class="op">=</span> <span class="st">"Apple"</span>, b <span class="op">=</span> <span class="st">"Banana"</span>, .default <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in recode(char_vec, a = "Apple", b = "Banana", .default = NA) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `.default` must be a character vector, not a logical vector.</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Use a named character vector for unquote splicing with !!!</span></span>
<span class="r-in"><span class="va">level_key</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="st">"apple"</span>, b <span class="op">=</span> <span class="st">"banana"</span>, c <span class="op">=</span> <span class="st">"carrot"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">char_vec</span>, <span class="op">!</span><span class="op">!</span><span class="op">!</span><span class="va">level_key</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "apple"  "banana" "banana" "carrot" "carrot" "banana" "apple" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] "apple"  "banana" "carrot"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># For numeric values, named arguments can also be used</span></span>
<span class="r-in"><span class="va">num_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">num_vec</span>, `2` <span class="op">=</span> <span class="fl">20L</span>, `4` <span class="op">=</span> <span class="fl">40L</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  1 20  3 40 NA</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Or if you don't name the arguments, recode() matches by position.</span></span>
<span class="r-in"><span class="co"># (Only works for numeric vector)</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">num_vec</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "a" "b" "c" "d" NA </span>
<span class="r-in"><span class="co"># .x (position given) looks in (...), then grabs (... value at position)</span></span>
<span class="r-in"><span class="co"># so if nothing at position (here 5), it uses .default or NA.</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span>,<span class="fl">3</span><span class="op">)</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, .default <span class="op">=</span> <span class="st">"nothing"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "a"       "nothing" "c"      </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Note that if the replacements are not compatible with .x,</span></span>
<span class="r-in"><span class="co"># unmatched values are replaced by NA and a warning is issued.</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">num_vec</span>, `2` <span class="op">=</span> <span class="st">"b"</span>, `4` <span class="op">=</span> <span class="st">"d"</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Unreplaced values treated as NA as `.x` is not compatible.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Please specify replacements exhaustively or supply `.default`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA  "b" NA  "d" NA </span>
<span class="r-in"><span class="co"># use .default to change the replacement value</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">num_vec</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, .default <span class="op">=</span> <span class="st">"other"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "a"     "b"     "c"     "other" NA     </span>
<span class="r-in"><span class="co"># use .missing to replace missing values in .x</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">num_vec</span>, <span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, .default <span class="op">=</span> <span class="st">"other"</span>, .missing <span class="op">=</span> <span class="st">"missing"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "a"       "b"       "c"       "other"   "missing"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># For factor values, use only named replacements</span></span>
<span class="r-in"><span class="co"># and supply default with levels()</span></span>
<span class="r-in"><span class="va">factor_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">recode</span><span class="op">(</span><span class="va">factor_vec</span>, a <span class="op">=</span> <span class="st">"Apple"</span>, .default <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">factor_vec</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Apple b     c    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: Apple b c</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Use recode_factor() to create factors with levels ordered as they</span></span>
<span class="r-in"><span class="co"># appear in the recode call. The levels in .default and .missing</span></span>
<span class="r-in"><span class="co"># come last.</span></span>
<span class="r-in"><span class="fu">recode_factor</span><span class="op">(</span><span class="va">num_vec</span>, `1` <span class="op">=</span> <span class="st">"z"</span>, `2` <span class="op">=</span> <span class="st">"y"</span>, `3` <span class="op">=</span> <span class="st">"x"</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Unreplaced values treated as NA as `.x` is not compatible.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Please specify replacements exhaustively or supply `.default`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] z    y    x    &lt;NA&gt; &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: z y x</span>
<span class="r-in"><span class="fu">recode_factor</span><span class="op">(</span><span class="va">num_vec</span>, `1` <span class="op">=</span> <span class="st">"z"</span>, `2` <span class="op">=</span> <span class="st">"y"</span>, `3` <span class="op">=</span> <span class="st">"x"</span>,</span>
<span class="r-in">              .default <span class="op">=</span> <span class="st">"D"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] z    y    x    D    &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: z y x D</span>
<span class="r-in"><span class="fu">recode_factor</span><span class="op">(</span><span class="va">num_vec</span>, `1` <span class="op">=</span> <span class="st">"z"</span>, `2` <span class="op">=</span> <span class="st">"y"</span>, `3` <span class="op">=</span> <span class="st">"x"</span>,</span>
<span class="r-in">              .default <span class="op">=</span> <span class="st">"D"</span>, .missing <span class="op">=</span> <span class="st">"M"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] z y x D M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: z y x D M</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># When the input vector is a compatible vector (character vector or</span></span>
<span class="r-in"><span class="co"># factor), it is reused as default.</span></span>
<span class="r-in"><span class="fu">recode_factor</span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, b <span class="op">=</span> <span class="st">"z"</span>, c <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] a z y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: z y a</span>
<span class="r-in"><span class="fu">recode_factor</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span>, b <span class="op">=</span> <span class="st">"z"</span>, c <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] a z y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: z y a</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Use a named character vector to recode factors with unquote splicing.</span></span>
<span class="r-in"><span class="va">level_key</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="st">"apple"</span>, b <span class="op">=</span> <span class="st">"banana"</span>, c <span class="op">=</span> <span class="st">"carrot"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">recode_factor</span><span class="op">(</span><span class="va">char_vec</span>, <span class="op">!</span><span class="op">!</span><span class="op">!</span><span class="va">level_key</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] apple  banana banana carrot carrot banana apple  apple  banana carrot</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: apple banana carrot</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/romainfrancois" class="external-link">Romain François</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://krlmlr.info" class="external-link">Kirill Müller</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

  </div></footer></body></html>

